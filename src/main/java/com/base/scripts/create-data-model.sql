CREATE DATABASE skm2_model_2 CHARACTER SET utf8;

USE skm2_model_2;
/*
CREATE TABLE DEVICE_ADDRESS (
    ID_ADDRESS INT UNSIGNED NOT NULL AUTO_INCREMENT,
    ADDRESS VARCHAR(255) NOT NULL,
    UNIQUE UQ_ADDRESS_1 (ADDRESS),
    PRIMARY KEY (ID_ADDRESS)
);
 
CREATE TABLE IP_AND_NUMBER (
    ID_IP_NUMBER INT UNSIGNED NOT NULL AUTO_INCREMENT,
    IP VARCHAR(255) NOT NULL,
    NUMBER INT UNSIGNED,
    ADDRESS_ID INT UNSIGNED,
    UNIQUE UQ_IP_1 (IP),
    PRIMARY KEY (ID_IP_NUMBER),
    FOREIGN KEY (ADDRESS_ID) REFERENCES DEVICE_ADDRESS (ID_ADDRESS)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE TABLE DATA_DAY (
    ID_DATA_DAY INT UNSIGNED NOT NULL AUTO_INCREMENT,
    DATE DATE NOT NULL,
    VOLUME1 DOUBLE,
    TEMPER1 FLOAT,
    PRESS11 FLOAT,
    IP_AND_NUMBER_ID INT UNSIGNED,
    UNIQUE UQ_DATE_1 (DATE),
    PRIMARY KEY (ID_DATA_DAY),
    FOREIGN KEY (IP_AND_NUMBER_ID) REFERENCES IP_AND_NUMBER (ID_IP_NUMBER)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE TABLE DATA_HOUR (
    ID_DATA_HOUR INT UNSIGNED NOT NULL AUTO_INCREMENT,
    DATETIME DATE NOT NULL,
    VOLUME1 DOUBLE,
    TEMPER1 FLOAT,
    PRESS11 FLOAT,
    IP_AND_NUMBER_ID INT UNSIGNED,
    UNIQUE UQ_DATE_1 (DATETIME),
    PRIMARY KEY (ID_DATA_HOUR),
    FOREIGN KEY (IP_AND_NUMBER_ID) REFERENCES IP_AND_NUMBER (ID_IP_NUMBER)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

*/